<div class="lift:surround?with=educontent;at=content">
	<head_merge> <script type="text/javascript"
		src="/ckeditor/ckeditor.js"></script> <script type="text/javascript"
		src="/jquery/ckeditorresource.js"></script> <script
		type="text/javascript" src="/jquery/ASCIIMathML.js"></script> <script
		type="text/javascript" src="/jquery/dejavu.js"></script>
	<link rel="stylesheet" type="text/css"
		href="/style/jquery.dataTables.css" />
	<script type="text/javascript" src="/jquery/editquest.js"></script> <script
		src="/jquery/jquery.dataTables.min.js"></script> <script
		src="/jquery/redirecttoselect.js"></script> <script>
			var oTable = $();
			var department = Object();
			var editQuest = Object();

			$(document)
					.ready(
							function() {

								$('#questEditor').dialog({
									autoOpen : false,
									height : 550,
									width : 950,
									modal : false,
									close : function() {
										editQuest.isOpen = false;
									}
								});

								CKEDITOR.replace('questionQuest', {
									width : 500,
									height : 240,
									extraPlugins : 'addThumb,formula,symbol',
									toolbar : [
											{
												name : 'clipboard',
												items : [ 'PasteText',
														'PasteFromWord',
														'Undo', 'Redo' ]
											},
											{
												name : 'links',
												items : [ 'Link', 'Unlink',
														'Anchor' ]
											},
											{
												name : 'paragraph',
												items : [ 'NumberedList',
														'BulletedList',
														'Outdent', 'Indent',
														'Blockquote',
														'JustifyLeft',
														'JustifyCenter',
														'JustifyRight',
														'JustifyBlock' ]
											},
											{
												name : 'insert',
												items : [ 'AddThumb',
														'Formula', 'YouTube',
														'Table',
														'HorizontalRule',
														'Smiley', 'Symbol' ]
											},
											{
												name : 'basicstyles',
												items : [ 'Bold', 'Italic',
														'Underline', 'Strike',
														'Subscript',
														'Superscript',
														'RemoveFormat' ]
											},
											{
												name : 'colors',
												items : [ 'TextColor',
														'BGColor' ]
											} ]
								});
								CKEDITOR.config.disableNativeSpellChecker = false;

								//$( "#quizList" ).sortable();
								//$( "#quizList" ).disableSelection();

								oTable = $('#datatable')
										.dataTable(
												{
													"sPaginationType" : "two_button",
													"bFilter" : true,
													"iDisplayLength" : 20,
													"bLengthChange" : true,
													"oLanguage" : {
														"sSearch" : "Filtruj wiersze: ",
														"sZeroRecords" : "Brak danych do wyświetlenia",
														"sInfoEmpty" : "Brak danych do wyświetlenia",
														"sEmptyTable" : "Brak danych do wyświetlenia",
														"sInfo" : "Widzisz wiersze od _START_ do _END_  z wszystkich _TOTAL_",
														"oPaginate" : {
															"sPrevious" : "Poprzednie",
															"sNext" : "Następne",
															"sFirst" : "Początek",
															"sLast" : "Koniec",
														},
														"sInfoFiltered" : " - odfiltrowano z _MAX_ wierszy",
														"sLengthMenu" : 'Pokaż <select>'
																+ '<option value="20">20</option>'
																+ '<option value="50">50</option>'
																+ '<option value="100">100</option>'
																+ '<option value="-1">całość</option>'
																+ '</select> wierszy'
													}
												});

								editQuest = new EditQuest();
								editQuest.oTable = oTable;

							});
		</script>
	<style>
#fakeAnswerList li button {
	margin-right: 10px;
}

#fakeAnswerList li {
	list-style-type: none;
}

#fakeAnswerList {
	padding: 5px;
}

.wrong {
	padding-left: 5px;
	display: block;
}
</style>

	</head_merge>
	<div class="well">
		<h2>Edycja pytań</h2>
	</div>

	<div class="row">
		<div class="col-lg-9">
			<form class="lift:edu.EditQuestSn.choiseQuest form-inline"
				method="POST">
				<div class="input-group">
					<div class="input-group-addon">Przedmiot:</div>
					<select id="subjects" class="form-control"></select>
				</div>
				<div class="input-group">
					<div class="input-group-addon">Poziom:</div>
					<select id="levels" class="form-control"></select>
				</div>
				<div class="input-group">
					<input class="btn btn-success" id="choise" type="submit" />
					</div>
			</form>
		</div>
		<div class="col-lg-3">
			<button type="button" class="btn btn-success btn-lg" id="addQuestion"
				onclick="editQuest.startNewQuest()">
				<span class="glyphicon glyphicon-plus-sign"></span> Dodaj nowe
				pytanie
			</button>
		</div>
	</div>
	<br />
	<hr />
	<div id="questEditor" title="Edycja pytania" style="display: none;">
		<form class="lift:edu.EditQuestSn.editQuest" method="POST">
			<div style="padding-bottom: 10px; float: left;">
				<textarea id="questionQuest" class="ckeditor"></textarea>
				<div class="form-online">
					<br />
					<div class="input-group">
						<input id="saveQuestVisible" class="btn btn-lg btn-success"
							value="Dodaj!" type="submit"
							onclick="return editQuest.prepareToSave();" /> <input
							id="saveQuest" value="Dodaj" type="submit" style="display: none;" />
						<input id="deleteQuest" class="btn btn-lg btn-danger" value="Usuń"
							type="submit" />
					</div>
				</div>
			</div>

			<div style="float: right; width: 400px;">
				<input id="idQuest" style="display: none" type="text" />
				<div class="input-group">
					<div class="input-group-addon">Przedmiot:</div>
					<input id="subjectQuest" class="form-control" readonly="readonly"/>
				</div>
				<div class="input-group">
					<div class="input-group-addon">Poziom:</div>
					<input id="levelQuest" class="form-control" readonly="readonly"/>
				</div>
				<div class="input-group">
					<div class="input-group-addon">Dział:</div>
					<select id="departmentQuest" class="form-control"></select>
				</div>
				<div class="input-group">
					<div class="input-group-addon">Trudność:</div>
					<select id="dificultQuest" class="form-control"></select>
				</div>
				<div class="input-group">
					<label class="control-label">Odpowiedź prawidłowa:</label><input
						type="text" id="answerQuest" class="form-control" />
				</div>
				<div class="input-group">
					<label class="control-label">Odpowiedzi fałszywe:</label>
					<ul id="fakeAnswerList"></ul>
					<input type="text" id="wrongQuest" style="display: none;" />
				</div>
				<div class="row">
					<div class="col-sm-10">
						<input type="text" class="form-control" id="fakeAdd" value="" />
						</div>
						<div class="col-sm-2">
						<button class="btn btn-success btn-sm"
							onclick="editQuest.addFakeAnswer()">
							<span class="glyphicon glyphicon-plus-sign"></span>
						</button>
					</div>
				</div>
			</div>

		</form>
		<div class="clear"></div>
	</div>

	<div id="questList">
		<table id="datatable">
			<thead>
				<tr>
					<th>Pytanie</th>
					<th>Odpowiedz prawidłowa</th>
					<th>Błędne odpowiedzi</th>
					<th>Trudność</th>
					<th>Poziom</th>
					<th>Dział</th>
				</tr>
			</thead>
			<tbody class="lift:edu.EditQuestSn.showQuests">
				<tr>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
					<td></td>
				</tr>
			</tbody>
			<tfoot>
				<tr>
					<th>Pytanie</th>
					<th>Odpowiedz prawidłowa</th>
					<th>Błędne odpowiedzi</th>
					<th>Trudność</th>
					<th>Poziom</th>
					<th>Dział</th>
				</tr>
			</tfoot>
		</table>

	</div>

</div>